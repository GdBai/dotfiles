- defaults:
    link:
      relink: true

- clean: ['~']

- link:
    ~/.bashrc: bash/bashrc
    ~/.inputrc: bash/inputrc
    ~/.bash_profile: bash/bash_profile
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmux.inputrc: tmux/tmux.inputrc
    ~/.update_display.sh: tmux/update_display.sh
    ~/.vimrc: vim/vimrc
    ~/.config/nvim/init.vim: vim/nvim/init.vim
    ~/.gvimrc: vim/gvimrc
    ~/.config/nvim/ginit.vim: vim/nvim/ginit.vim
    ~/.vim/spell:
      create: true
      path: vim/spell
    ~/.vim/UltiSnips:
      create: true
      path: vim/UltiSnips
    ~/.config/nvim/UltiSnips:
      create: true
      path: vim/UltiSnips
    ~/.gitignore_global:
      create: true
      path: git/git_macos/gitignore_global
      if: '[ $(uname) = Darwin ]'
    ~/.gitignore_global:
      create: true
      path: git/git_linux/gitignore_global
      if: '[ $(uname) = Linux ]'
    ~/.aria2/aria2.conf:
      create: true
      path: aria2/aria2_macos.conf
      if: '[ $(uname) = Darwin ]'
    ~/.config/mpv/mpv.conf:
      create: true
      path: mpv/mpv_macos/mpv.conf
      if: '[ $(uname) = Darwin ]'
    ~/.config/mpv/input.conf:
      create: true
      path: mpv/mpv_macos/input.conf
      if: '[ $(uname) = Darwin ]'
    ~/.config/mpv/script-opts/osc.conf:
      create: true
      path: mpv/mpv_macos/script-opts/osc.conf
      if: '[ $(uname) = Darwin ]'

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  -
    command: ./motd/append_motd
    description: Append motd if doesn't exist
  -
    command: git config --global core.excludesfile ~/.gitignore_global
    description: Configure global ignored files
  -
    command: if [ $(uname) = Darwin ]; then git config --global core.autocrlf input; fi
    description: Configure Git to ensure line endings in files you checkout are correct for macOS
  -
    command: if [ $(uname) = Linux ]; then git config --global core.autocrlf input; fi
    description: Configure Git to ensure line endings in files you checkout are correct for Linux
